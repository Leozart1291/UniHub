{% extends "core/base.html" %}
{% load static %}

{% block title %}HubUni ‚Äì –≥–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}

<section class="hero">
    <div class="container hero__inner">
        <div class="hero__text">
            <h1 class="hero__title">
                –ï–¥–∏–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞<br>
                —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
            </h1>
            <p class="hero__subtitle">
                –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ, –∏–∑—É—á–∞–π—Ç–µ –∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –±–∞—Ä—å–µ—Ä–æ–≤.
            </p>

            <form class="hero__search" action="" method="get">
                {% if selected_category %}
                    <input type="hidden" name="category" value="{{ selected_category.slug }}">
                {% endif %}
                <span class="hero__search-icon">üîç</span>
                <input type="text" class="hero__search-input"
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã‚Ä¶"
                       name="q">
                <button type="submit" class="btn btn--primary hero__search-btn">
                    –Ω–∞–π—Ç–∏
                </button>
            </form>
        </div>

        <div class="hero__image">
            <div class="hero__image-placeholder">
                <span>—Ñ–æ—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</span>
            </div>
        </div>
    </div>
</section>


<section class="section section--no-top">
    <div class="container">
        <h2 class="section__title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤</h2>

        <div class="chips">
            <a href="{% url 'home' %}"
               class="chip {% if not selected_category %}chip--active{% endif %}">
                –í—Å–µ
            </a>
            {% for cat in categories %}
                <a href="?category={{ cat.slug }}"
                   class="chip {% if selected_category and cat.id == selected_category.id %}chip--active{% endif %}">
                    {{ cat.name }}
                </a>
            {% endfor %}
        </div>

        <p class="section__subtitle">
            –ü–æ–∫–∞–∑–∞–Ω–æ {{ shown_count }} –∏–∑ {{ total_count }} —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤
            {% if selected_category %}–ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´{{ selected_category.name }}¬ª{% endif %}.
        </p>

        <div class="cards-grid">
            {% for uni in universities %}
                <article class="uni-card">
                    <div class="uni-card__header">
                        <div class="uni-card__image-placeholder">
                            {% if uni.main_image %}
                                <img src="{{ uni.main_image.url }}" alt="{{ uni.short_name }}">
                            {% else %}
                                <span>–§–æ—Ç–æ</span>
                            {% endif %}
                        </div>
                    </div>

                    <div class="uni-card__body">
                        <h3 class="uni-card__title">{{ uni.full_name }}</h3>

                        <p class="uni-card__city">
                            üìç {{ uni.get_city_display }}
                        </p>

                        <p class="uni-card__directions">
                            üß©
                            {% for cat in uni.categories.all %}
                                {{ cat.name }}{% if not forloop.last %} ¬∑ {% endif %}
                            {% endfor %}
                        </p>

                        <p class="uni-card__price">
                            üí∞ {{ uni.tuition_min|default:"‚Äî" }} ‚Äì {{ uni.tuition_max|default:"‚Äî" }} ‚Ç∏ –≤ –≥–æ–¥
                        </p>

                        <p class="uni-card__grants">
                            {% if uni.has_grants %}
                                ‚úÖ –ï—Å—Ç—å –≥—Ä–∞–Ω—Ç—ã
                            {% else %}
                                ‚Äî –ì—Ä–∞–Ω—Ç—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã
                            {% endif %}
                        </p>

                        <p class="uni-card__rating">
                            ‚≠ê {{ uni.rating|default:"‚Äî" }} / 5
                        </p>
                    </div>

                    <div class="uni-card__footer">
                        <a href="#" class="link-button">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>

                        <label class="compare-toggle">
                            <input type="checkbox">
                            <span>–°—Ä–∞–≤–Ω–∏—Ç—å</span>
                        </label>
                    </div>
                </article>
            {% empty %}
                <p>–ü–æ–∫–∞ –Ω–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
            {% endfor %}
        </div>

        {% if show_more %}
            <div class="section__more">
                <a class="btn btn--outline"
                   href="?{% if selected_category %}category={{ selected_category.slug }}&{% endif %}limit={{ next_limit }}">
                    –ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë
                </a>
            </div>
        {% endif %}
    </div>
</section>


<section class="section">
    <div class="container">
        <h2 class="section__title">–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–∞—è —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞</h2>
        <p class="section__subtitle">
            –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –≤—É–∑—ã –≤–∏–∑—É–∞–ª—å–Ω–æ: —Å—Ç–æ–∏–º–æ—Å—Ç—å, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
        </p>

        <div class="heatmap-placeholder">
            –∫–∞—Ä—Ç–∞
        </div>
    </div>
</section>

{% endblock %}